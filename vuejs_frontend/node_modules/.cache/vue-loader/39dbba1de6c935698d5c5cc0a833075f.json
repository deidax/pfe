{"remainingRequest":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/src/components/ProductsData.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/src/components/ProductsData.vue","mtime":1632014034986},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9ucyxtYXBHZXR0ZXJzfSBmcm9tICJ2dWV4IgoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQ3JlYXRlQ3Jhd2xlcicsCgogICAgZGF0YSgpCiAgICB7CiAgICAgIHJldHVybnsKICAgICAgICBwcm9kdWN0c0tleXM6IFtdLAogICAgICAgIGhlYWRlcnM6IFtdCiAgICAgIH0KICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgZ2V0RnVsbFBhdGgoKXsKICAgICAgICB0aGlzLnJlbmRlclByb2R1Y3RzRGF0YVRhYmxlKCkKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmhlYWRlcnMpCiAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCgpewogICAgICAKICAgIH0sCgogICAgY29tcHV0ZWQ6IHsKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRQcm9kdWN0c0RhdGFGcm9tREIiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0TG9hZGluZ1Byb2R1Y3RzRGF0YSJdKSwKCiAgICAgIGdldEZ1bGxQYXRoICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aAogICAgICB9LAogICAgfSwKCiAgICBtZXRob2RzOnsKICAgICAgICAuLi5tYXBBY3Rpb25zKCdDcmF3bGVyJyxbJ2dldFByb2R1Y3RzRGF0YSddKSwKCiAgICAgICAgcmVtb3ZlRHVwbGljYXRlcyhhcnJheSkgewogICAgICAgICAgcmV0dXJuIGFycmF5LmZpbHRlcigoYSwgYikgPT4gYXJyYXkuaW5kZXhPZihhKSA9PT0gYikKICAgICAgICB9LAoKICAgICAgICBnZXRQcm9kdWN0c0RhdGFFbGVtZW50c0tleXMoKXsKICAgICAgICAgIGxldCBfcHJvZHVjdGtleXMgPSBbXQogICAgICAgICAgdGhpcy5nZXRQcm9kdWN0c0RhdGFGcm9tREIuZm9yRWFjaChwcm9kdWN0ID0+IHsKICAgICAgICAgICAgX3Byb2R1Y3RrZXlzLnB1c2goT2JqZWN0LmtleXMocHJvZHVjdCkpCiAgICAgICAgICB9KTsKICAgICAgICAgIGxldCBtZXJnZXByb2R1Y3RzS2V5cyA9IFtdLmNvbmNhdC5hcHBseShbXSwgX3Byb2R1Y3RrZXlzKTsKICAgICAgICAgIHRoaXMucHJvZHVjdHNLZXlzID0gdGhpcy5yZW1vdmVEdXBsaWNhdGVzKHRoaXMucHJvZHVjdHNLZXlzKQogICAgICAgIH0sCgogICAgICAgIGdlbmVyYXRlSGVhZGVycygpewogICAgICAgICAgdGhpcy5wcm9kdWN0c0tleXMuZm9yRWFjaChrZXkgPT4gewogICAgICAgICAgICBsZXQgaGVhZGVyID0ge30KICAgICAgICAgICAgaGVhZGVyWyd0ZXh0J10gPSBrZXk7CiAgICAgICAgICAgIGhlYWRlclsndmFsdWUnXSA9IGtleTsKICAgICAgICAgICAgaGVhZGVyWydhbGlnbiddID0gJ2xlZnQnCiAgICAgICAgICAgIHRoaXMuaGVhZGVycy5wdXNoKGhlYWRlcikKICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIHJlbmRlclByb2R1Y3RzRGF0YVRhYmxlKCl7CiAgICAgICAgICB0aGlzLmdldFByb2R1Y3RzRGF0YSgpICAKICAgICAgICAgIHRoaXMuZ2V0UHJvZHVjdHNEYXRhRWxlbWVudHNLZXlzKCkKICAgICAgICAgIHRoaXMuZ2VuZXJhdGVIZWFkZXJzKCkKICAgICAgICB9CiAgICAgICAgCiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgIHRoaXMucmVuZGVyUHJvZHVjdHNEYXRhVGFibGUoKQogICAgfQogIH0K"},{"version":3,"sources":["ProductsData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"ProductsData.vue","sourceRoot":"src/components","sourcesContent":["<template>\n   <v-app id=\"inspire\">\n      <v-main>\n        <v-card>\n          <v-card-title>\n            Products Data\n            <!-- {{getRunningCrawlerTaskId['task_id']}} -->\n            <v-spacer></v-spacer>\n            </v-card-title>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"getProductsDataFromDB\"\n            class=\"elevation-1\"\n            :loading=\"getLoadingProductsData\"\n            loading-text=\"Loading... Please wait, this might take sometime\"\n          >\n            <!-- <template v-slot:header.name=\"{ generateHeaders }\">\n              {{ header.text.toUpperCase() }}\n            </template> -->\n          </v-data-table>\n        </v-card>\n      </v-main>\n   </v-app>\n</template>\n\n\n<script>\nimport {mapActions,mapGetters} from \"vuex\"\n\n  export default {\n    name: 'CreateCrawler',\n\n    data()\n    {\n      return{\n        productsKeys: [],\n        headers: []\n      }\n    },\n\n    watch: {\n      getFullPath(){\n        this.renderProductsDataTable()\n        console.log(this.headers)\n      }\n    },\n\n    mounted(){\n      \n    },\n\n    computed: {\n      ...mapGetters(\"Crawler\",[\"getProductsDataFromDB\"]),\n      ...mapGetters(\"Crawler\",[\"getLoadingProductsData\"]),\n\n      getFullPath () {\n        return this.$route.path\n      },\n    },\n\n    methods:{\n        ...mapActions('Crawler',['getProductsData']),\n\n        removeDuplicates(array) {\n          return array.filter((a, b) => array.indexOf(a) === b)\n        },\n\n        getProductsDataElementsKeys(){\n          let _productkeys = []\n          this.getProductsDataFromDB.forEach(product => {\n            _productkeys.push(Object.keys(product))\n          });\n          let mergeproductsKeys = [].concat.apply([], _productkeys);\n          this.productsKeys = this.removeDuplicates(this.productsKeys)\n        },\n\n        generateHeaders(){\n          this.productsKeys.forEach(key => {\n            let header = {}\n            header['text'] = key;\n            header['value'] = key;\n            header['align'] = 'left'\n            this.headers.push(header)\n          });\n        },\n\n        renderProductsDataTable(){\n          this.getProductsData()  \n          this.getProductsDataElementsKeys()\n          this.generateHeaders()\n        }\n        \n    },\n\n    created() {\n      this.renderProductsDataTable()\n    }\n  }\n</script>\n"]}]}