{"remainingRequest":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/src/components/CrawlersList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/src/components/CrawlersList.vue","mtime":1631888692976},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9ucyxtYXBHZXR0ZXJzLCBtYXBTdGF0ZX0gZnJvbSAidnVleCIKaW1wb3J0IENyYXdsZXJEZXRhaWxzIGZyb20gJy4vQ3Jhd2xlckRldGFpbHMudnVlJzsKICBleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBDcmF3bGVyRGV0YWlscyB9LAoKICAgIG5hbWU6ICdDcmF3bGVyc0xpc3QnLAogICAgcHJvcHM6IHsKICAgICAgcmVmcmVzaENyYXdsZXJMaXN0RGF0YTogZmFsc2UKICAgIH0sCiAgICAKICAgIGRhdGEgKCkgewogICAgICByZXR1cm4gewogICAgICAgIHNlYXJjaDogJycsCiAgICAgICAgaW5Qcm9jZXNzOiB0cnVlLAogICAgICAgIHN0YXJ0TG9uZ1BvbGxpbmc6ZmFsc2UsCiAgICAgICAgcG9sbGluZzogbnVsbCwKICAgICAgICBzdG9wcGluZ0NyYXdsZXI6IGZhbHNlLAogICAgICAgIGNyYXdsZXJBbGVydDogZmFsc2UsCiAgICAgICAgY3Jhd2xlckFsZXJ0VGltZW91dE1lc3NhZ2U6IDUwMDAsCiAgICAgICAgY3Jhd2xlckFsZXJ0TWVzc2FnZTogJycsCiAgICAgICAgY3Jhd2xlckFsZXJ0SWNvbjogJycsCiAgICAgICAgdHJpZ2dlck9wZW5DcmF3bGVyRGV0YWlsczogZmFsc2UsCiAgICAgICAgdG90YWxQcm9kdWN0c0ZvdW5kOiAwLAogICAgICAgIGxhc3RDcmF3bGVyOiB7fSwKICAgICAgICBsYXN0Q3Jhd2xlclRhc2tJZDogbnVsbCwKICAgICAgICBjcmF3bGVyRGV0YWlsc1JlYWR5OiBmYWxzZSwKICAgICAgICBwcm9kdWN0c0luc2VydGVkUGVyY2VudGFnZTowLAogICAgICAgIHRpbWVDb3VudGVyOiAnJywKICAgICAgICBqb2JfaWQgOiBudWxsLAogICAgICAgIGNyYXdsZXJJblByb2Nlc3M6ewogICAgICAgICAgcHJvamVjdDogJ2RlZmF1bHQnLAogICAgICAgICAgam9iOiAnJwogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogWwogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAnQ3Jhd2xlciBOYW1lJywKICAgICAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgICAgIHZhbHVlOiAnbmFtZScsCiAgICAgICAgICB9LAogICAgICAgICAgeyB0ZXh0OiAnU3RhcnQgVVJMJywgdmFsdWU6ICdzdGFydF91cmwnLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgICAgIHsgdGV4dDogJ1N0YXRlJywgdmFsdWU6ICdzdGF0ZScsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgICAgeyB0ZXh0OiAnVW5pcXVlIElEJywgdmFsdWU6ICd0YXNrX2lkJywgc29ydGFibGU6IGZhbHNlfSwKICAgICAgICAgIHsgdGV4dDogJyAnLCB2YWx1ZTogJ2J0bl9ydW5fc3RvcCcsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgICAgeyB0ZXh0OiAnICcsIHZhbHVlOiAnYnRuX2RlbGV0ZScsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgICAgeyB0ZXh0OiAnICcsIHZhbHVlOiAnZGV0YWlsc19idG4nLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgICBdLAogICAgICAgIC8vIGNyYXdsZXJzX2RhdGE6IGdldENyYXdsZXJzCiAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCAoKSB7CiAgICAgIHRoaXMuZ2V0Sm9iU3RhdGUKICAgICAgdGhpcy5nZXRDcmF3bGVyc0RhdGEoKTsKICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgZ2V0RnVsbFBhdGggKCkgewogICAgICAgIHRoaXMuZ2V0Q3Jhd2xlcnNEYXRhKCkKICAgICAgfSwKCiAgICAgIHJlZnJlc2hDcmF3bGVyTGlzdERhdGEoKXsKICAgICAgICAvLyB0aGlzLmdldENyYXdsZXJzRGF0YSgpCiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0sICAKCiAgICAgIGdldEpvYlN0YXRlKG5ld1ZhbCwgb2xkVmFsKXsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJPTEQ6ICIrb2xkVmFsKQogICAgICAgICAgLy8gY29uc29sZS5sb2coIk5FVzogIituZXdWYWwpCiAgICAgICAgICBjb25zb2xlLmxvZygiUE9MTElORyEhISEhISEhIikKICAgICAgICAgIHRoaXMucG9sbGluZ0ZyZXNoQ3Jhd2xlcnNJbmZvKCkKICAgICAgfSwKCiAgICAgIGdldExhc3RDcmF3bGVyVGFza0lkKG5ld1ZhbCwgb2xkVmFsKXsKICAgICAgICAgIGNvbnNvbGUubG9nKCJPTEQ6ICIrb2xkVmFsKQogICAgICAgICAgY29uc29sZS5sb2coIk5FVzogIituZXdWYWwpCiAgICAgICAgICBpZihvbGRWYWwgIT0gdW5kZWZpbmVkKXsKICAgICAgICAgICAgY29uc29sZS5sb2coIi0tPlJFQURZIikKICAgICAgICAgICAgdGhpcy5jcmF3bGVyRGV0YWlsc1JlYWR5ID0gdHJ1ZQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdldENyYXdsZXJEZXRhaWxzLmVzdGltYXRyZWRfY291bnRfZG93bl9kYXRlKQogICAgICAgICAgICAKICAgICAgICAgIH0KICAgICAgfSwKICAgICAgCiAgICAgIGdldENyYXdsZXJQcm9kdWN0c0luc2VydGVkKG5ld1ZhbCwgb2xkVmFsKXsKICAgICAgICBjb25zb2xlLmxvZygiT0xEOiAiK29sZFZhbCkKICAgICAgICBjb25zb2xlLmxvZygiTkVXOiAiK25ld1ZhbCkKICAgICAgICB0aGlzLnByb2R1Y3RzSW5zZXJ0ZWRQZXJjZW50YWdlID0gdGhpcy5jYWxjdWxhdGVQZXJjZW50YWdlKG5ld1ZhbCwgdGhpcy5nZXRDcmF3bGVyRGV0YWlscy5udW1iZXJfb2ZfcHJvZHVjdHNfZm91bmQpCiAgICAgICAgY29uc29sZS5sb2coIlBFUkNFTlRBR0UgLS0tLS0tLT4gIit0aGlzLnByb2R1Y3RzSW5zZXJ0ZWRQZXJjZW50YWdlKQogICAgICB9CgogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAuLi5tYXBHZXR0ZXJzKCJBdXRoIixbImlzQXV0aCJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRDcmF3bGVycyJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJpc0xvYWRpbmciXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0TG9hZGluZ1J1bm5pbmdDcmF3bGVyRXhlY3V0aW9uIl0pLAogICAgICAuLi5tYXBHZXR0ZXJzKCJDcmF3bGVyIixbImdldFJ1bm5pbmdDcmF3bGVyIl0pLAogICAgICAuLi5tYXBHZXR0ZXJzKCJDcmF3bGVyIixbImdldFJ1bm5pbmdDcmF3bGVyVGFza0lkIl0pLAogICAgICAuLi5tYXBHZXR0ZXJzKCJDcmF3bGVyIixbImdldEpvYiJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRGaW5pc2hlZEpvYnMiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0Sm9iU3RhdGUiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoIkNyYXdsZXIiLFsiZ2V0RGVsZXRpbmdDcmF3bGVyTG9hZGluZyJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRDcmF3bGVyRGV0YWlscyJdKSwKICAgICAgLi4ubWFwU3RhdGUoIkNyYXdsZXIiLFsiY3Jhd2xlcl9kZXRhaWxzIl0pLAogICAgICAuLi5tYXBTdGF0ZSgiQ3Jhd2xlciIsWyJydW5uaW5nX2NyYXdsZXJfdGFza19pZCJdKSwKICAgICAgLi4ubWFwR2V0dGVycygiQ3Jhd2xlciIsWyJnZXRPdGhlckVycm9ycyJdKSwKICAgICAgCgogICAgICBnZXRGdWxsUGF0aCAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhdGgKICAgICAgfSwKCiAgICAgIGdldExhc3RDcmF3bGVyVGFza0lkKCl7CiAgICAgICAgY29uc29sZS5sb2coJyoqKioqKicpCiAgICAgICAgcmV0dXJuIHRoaXMuY3Jhd2xlcl9kZXRhaWxzLnRhc2tfaWQKICAgICAgfSwKCiAgICAgIGdldENyYXdsZXJQcm9kdWN0c0luc2VydGVkKCl7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiB0aGlzLmdldENyYXdsZXJEZXRhaWxzLnByb2R1Y3RzX2luc2VydGVkCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9CiAgICAgIH0KCiAgICAgIAoKICAgICAgCiAgICB9LAogICAgCiAgICBtZXRob2RzOnsKICAgICAgICAuLi5tYXBBY3Rpb25zKCdDcmF3bGVyJyxbJ2dldEFsbENyYXdsZXJzJ10pLAogICAgICAgIC4uLm1hcEFjdGlvbnMoJ0NyYXdsZXInLFsncnVuQ3Jhd2xlciddKSwKICAgICAgICAuLi5tYXBBY3Rpb25zKCdDcmF3bGVyJyxbJ2dldEpvYnMnXSksCiAgICAgICAgLi4ubWFwQWN0aW9ucygnQ3Jhd2xlcicsWydjYW5jZWxSdW5uaW5nSm9iJ10pLAogICAgICAgIC4uLm1hcEFjdGlvbnMoJ0NyYXdsZXInLFsnZ2V0UnVuaW5nSm9icyddKSwKICAgICAgICAuLi5tYXBBY3Rpb25zKCdDcmF3bGVyJyxbJ2RlbGV0ZUNyYXdsZXInXSksCiAgICAgICAgLi4ubWFwQWN0aW9ucygnQ3Jhd2xlcicsWydnZXRDcmF3bGVyRGV0YWlsc0FwaSddKSwKCiAgICAgICAgdXBkYXRlRGlhbG9nKG9wZW5EaWFsb2cpewogICAgICAgICAgdGhpcy50cmlnZ2VyT3BlbkNyYXdsZXJEZXRhaWxzID0gb3BlbkRpYWxvZwogICAgICAgIH0sCgogICAgICAgIGdldENyYXdsZXJzRGF0YSgpewogICAgICAgICAgdGhpcy5nZXRBbGxDcmF3bGVycyh0aGlzLmNyYXdsZXJJblByb2Nlc3MpCiAgICAgICAgfSwKCgogICAgICAgIGV4ZWN1dGVDcmF3bGVyKGlkKXsKICAgICAgICAgIGxldCBwbGF5bG9hZCA9IHsnaWQnOiBpZCwgJ2Zvcm0nOiB0aGlzLmNyYXdsZXJJblByb2Nlc3N9CiAgICAgICAgICBjb25zb2xlLmxvZyhwbGF5bG9hZCkKICAgICAgICAgIHRoaXMucnVuQ3Jhd2xlcihwbGF5bG9hZCkKICAgICAgICAgIHRoaXMuc3RhcnRMb25nUG9sbGluZz10cnVlCiAgICAgICAgICB0aGlzLmNyYXdsZXJBbGVydCA9IHRydWUKICAgICAgICAgIHRoaXMuY3Jhd2xlckFsZXJ0TWVzc2FnZSA9ICJDcmF3bGVyIHN0YXJ0ZWQiCiAgICAgICAgICB0aGlzLmNyYXdsZXJBbGVydEljb24gPSAnbWRpLXNwaWRlcicKICAgICAgICAgIC8vIHRoaXMucG9sbGluZ0ZyZXNoQ3Jhd2xlcnNJbmZvKCkKICAgICAgICB9LAoKICAgICAgICBleGl0UnVubmluZ0pvYih0YXNrSWQpewogICAgICAgICAgdGhpcy5jcmF3bGVySW5Qcm9jZXNzWydqb2InXSA9IHRhc2tJZAogICAgICAgICAgdGhpcy5zdG9wcGluZ0NyYXdsZXIgPSB0cnVlCiAgICAgICAgICB0aGlzLmNhbmNlbFJ1bm5pbmdKb2IodGhpcy5jcmF3bGVySW5Qcm9jZXNzKQogICAgICAgICAgdGhpcy5pblByb2Nlc3MgPSBmYWxzZQogICAgICAgICAgdGhpcy50aW1lQ291bnRlciA9ICcnCiAgICAgICAgICAKICAgICAgICAgIHRoaXMuZ2V0QWxsQ3Jhd2xlcnModGhpcy5jcmF3bGVySW5Qcm9jZXNzKQogICAgICAgIH0sCgogICAgICAgIHJlbW92ZUNyYXdsZXIoY3Jhd2xlcklkKXsKICAgICAgICAgIGxldCBwbGF5bG9hZCA9IHt9CiAgICAgICAgICBwbGF5bG9hZFsnY3Jhd2xlcl9pZCddID0gY3Jhd2xlcklkCiAgICAgICAgICBwbGF5bG9hZFsnY3Jhd2xlckluUHJvY2VzcyddID0gdGhpcy5jcmF3bGVySW5Qcm9jZXNzCiAgICAgICAgICBwbGF5bG9hZFsndm0nXSA9IHRoaXMKICAgICAgICAgIHRoaXMuZGVsZXRlQ3Jhd2xlcihwbGF5bG9hZCkKICAgICAgICB9LAoKICAgICAgICBnZXRDcmF3bGVySW5mbyAodGFza19pZCl7CiAgICAgICAgICBsZXQgam9icyA9IHRoaXMuZ2V0Sm9iCiAgICAgICAgICBsZXQgZmluaXNoZWRfam9icyA9IHRoaXMuZ2V0RmluaXNoZWRKb2JzCiAgICAgICAgICBsZXQgY3Jhd2xlciA9IG51bGwKICAgICAgICAgIGlmKGpvYnMubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgY3Jhd2xlciA9IGpvYnMuZmluZChvID0+IG8uaWQgPT09IHRhc2tfaWQpOwogICAgICAgICAgICAgIGlmKGNyYXdsZXIgPT0gbnVsbCAmJiBmaW5pc2hlZF9qb2JzLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgICBjcmF3bGVyID0gZmluaXNoZWRfam9icy5maW5kKG8gPT4gby5pZCA9PT0gdGFza19pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZihmaW5pc2hlZF9qb2JzLmxlbmd0aCA+IDApewogICAgICAgICAgICAgIGNyYXdsZXIgPSBmaW5pc2hlZF9qb2JzLmZpbmQobyA9PiBvLmlkID09PSB0YXNrX2lkKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gY3Jhd2xlcgogICAgICAgIH0sCgogICAgICAgIGNyYXdsZXJCdXR0b25Db250cm9sU3dpdGNoKHRhc2tfaWQpewogICAgICAgICAgbGV0IGlzQWN0aXZlID0gdGhpcy5nZXRDcmF3bGVySW5mbyh0YXNrX2lkKSA/IHRoaXMuZ2V0Q3Jhd2xlckluZm8odGFza19pZCkuaXNBY3RpdmUgOiBmYWxzZQogICAgICAgICAgCiAgICAgICAgICByZXR1cm4gaXNBY3RpdmUKICAgICAgICB9LAoKICAgICAgICBvcGVuQ3Jhd2xlckRldGFpbHMoKXsKICAgICAgICAgIHRoaXMudHJpZ2dlck9wZW5DcmF3bGVyRGV0YWlscyA9IHRydWUKICAgICAgICAgIHRoaXMudGltZUNvdW50RG93bih0aGlzLmdldENyYXdsZXJEZXRhaWxzLmVzdGltYXRyZWRfY291bnRfZG93bl9kYXRlKQogICAgICAgIH0sCgogICAgICAgIGNhbGN1bGF0ZVBlcmNlbnRhZ2UodmFsdWUsIHRvdGFsKXsKICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHZhbHVlL3RvdGFsKSAqIDEwMCkKICAgICAgICB9LAoKICAgICAgICBwb2xsaW5nRnJlc2hDcmF3bGVyc0luZm8oKXsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZhdGVMb25nUG9sbGluZykKICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoCiAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJMb25nUG9sbGluZy0tLT4iK3RoaXMuZ2V0Sm9iU3RhdGUpCiAgICAgICAgICAgICAgICB0aGlzLmdldEFsbENyYXdsZXJzKHRoaXMuY3Jhd2xlckluUHJvY2VzcykKCiAgICAgICAgICAgICAgICB0aGlzLmdldENyYXdsZXJEZXRhaWxzQXBpKCkKICAgICAgICAgICAgICAgICAgaWYodGhpcy5nZXRMYXN0Q3Jhd2xlclRhc2tJZCA9PSB0aGlzLmdldEpvYlswXS5pZCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmF3bGVyRGV0YWlsc1JlYWR5ID0gdHJ1ZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmF3bGVyRGV0YWlsc1JlYWR5ID0gZmFsc2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYodGhpcy5nZXRKb2JTdGF0ZSA9PSAnZmluaXNoZWQnIHx8ICF0aGlzLmlzQXV0aCl7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTVE9QIFBPTExJTkchISIpCiAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICBpZih0aGlzLmlzQXV0aCl7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5fYXVkaW8gPSBuZXcgQXVkaW8oJ2h0dHBzOi8vZnJlZXNvdW5kLm9yZy9kYXRhL3ByZXZpZXdzLzMyMC8zMjA2NTVfNTI2MDg3Mi1scS5tcDMnKTsKICAgICAgICAgICAgICAgICAgICBuX2F1ZGlvLnBsYXkoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLnN0b3BwaW5nQ3Jhd2xlciA9IGZhbHNlCiAgICAgICAgICAgICAgICAgIHRoaXMuY3Jhd2xlckRldGFpbHNSZWFkeSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgIHRoaXMuY3Jhd2xlckFsZXJ0ID0gdHJ1ZQogICAgICAgICAgICAgICAgICB0aGlzLmNyYXdsZXJBbGVydE1lc3NhZ2UgPSAiQ3Jhd2xlciBmaW5pc2hlZCIKICAgICAgICAgICAgICAgICAgdGhpcy5jcmF3bGVyQWxlcnRJY29uID0gJ21kaS1zcGlkZXInCiAgICAgICAgICAgICAgICAgIC8vIGNsZWFySW50ZXJ2YWwodGhpcy4kc3RvcmUuZ2V0dGVyc1snQ3Jhd2xlci9nZXRQb2xsaW5nSW50ZXJ2YWwnXSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLmJpbmQodGhpcyksIDMwMDApCiAgICAgICAgICAgIC8vIHRoaXMucG9sbGluZyA9IGludGVydmFsCiAgICAgICAgfSwKCiAgICAgICAgdGltZUNvdW50RG93bih0aW1lKXsKICAgICAgICAvLyB0cnkgewogICAgICAgICAgICBsZXQgY291bnREb3duRGF0ZSA9IG5ldyBEYXRlKHRpbWUpLmdldFRpbWUoKTsKCiAgICAgICAgICAgIC8vIFJ1biBteWZ1bmMgZXZlcnkgc2Vjb25kCiAgICAgICAgICAgIGxldCBteWZ1bmMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCiAgICAgICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgbGV0IHRpbWVsZWZ0ID0gY291bnREb3duRGF0ZSAtIG5vdzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDYWxjdWxhdGluZyB0aGUgZGF5cywgaG91cnMsIG1pbnV0ZXMgYW5kIHNlY29uZHMgbGVmdAogICAgICAgICAgICBsZXQgZGF5cyA9IE1hdGguZmxvb3IodGltZWxlZnQgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpOwogICAgICAgICAgICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKCh0aW1lbGVmdCAlICgxMDAwICogNjAgKiA2MCAqIDI0KSkgLyAoMTAwMCAqIDYwICogNjApKTsKICAgICAgICAgICAgbGV0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCh0aW1lbGVmdCAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpOwogICAgICAgICAgICBsZXQgc2Vjb25kcyA9IE1hdGguZmxvb3IoKHRpbWVsZWZ0ICUgKDEwMDAgKiA2MCkpIC8gMTAwMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy50aW1lQ291bnRlciA9IGRheXMrIjoiK2hvdXJzKyI6IittaW51dGVzKyI6IitzZWNvbmRzCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGltZUNvdW50ZXIpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUSU1NTU1FIikKICAgICAgICAgICAgLy8gRGlzcGxheSB0aGUgbWVzc2FnZSB3aGVuIGNvdW50ZG93biBpcyBvdmVyCiAgICAgICAgICAgIGlmICh0aW1lbGVmdCA8IDAgfHwgdGhpcy5nZXRKb2JTdGF0ZSA9PSAnZmluaXNoZWQnKSB7CiAgICAgICAgICAgICAgdGhpcy50aW1lQ291bnRlciA9ICcnCiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChteWZ1bmMpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVElNRSBVUCIpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC5iaW5kKHRoaXMpLCAxMDAwKTsKICAgICAgICAvLyB9CiAgICAgICAgICAvLyBjYXRjaCAoZXJyb3IpIHt9CiAgICAgICAgfSwKCiAgICB9LAoKICAgIC8vIGJlZm9yZURlc3Ryb3kgKCkgewogICAgLy8gICBjbGVhckludGVydmFsKHRoaXMucG9sbGluZykKICAgIC8vIH0sCgogICAgY3JlYXRlZCAoKSB7CiAgICAgIHRoaXMuZ2V0Q3Jhd2xlckRldGFpbHNBcGkoKQogICAgICAvLyBsZXQgX2xhc3RDcmF3bGVyID0gdGhpcy5nZXRDcmF3bGVyRGV0YWlscy50YXNrX2lkCiAgICAgIC8vIC8vIHRoaXMubGFzdENyYXdsZXJUYXNrSWQgPSBfbGFzdENyYXdsZXJbJ3Rhc2tfaWQnXQogICAgICAvLyAgIGNvbnNvbGUubG9nKCJjcmF3bGVyRGV0YWlsc1Rhc2tJZD09PT4iKQogICAgICAvLyAgIGNvbnNvbGUubG9nKF9sYXN0Q3Jhd2xlcikKICAgICAgaWYodGhpcy5nZXRKb2JTdGF0ZSAhPSAnZmluaXNoZWQnKXsKICAgICAgICAKICAgICAgICB0aGlzLnBvbGxpbmdGcmVzaENyYXdsZXJzSW5mbygpCiAgICAgIH0KCiAgICAgIAogICAgfQogICAgCiAgfQo="},{"version":3,"sources":["CrawlersList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0OA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA","file":"CrawlersList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n   <v-app id=\"inspire\">\n      <v-main>\n        <v-card>\n          <v-card-title>\n            Crawlers List {{refreshCrawlerListData}}\n            <!-- {{getRunningCrawlerTaskId['task_id']}} -->\n            <v-spacer></v-spacer>\n            <v-text-field\n              v-model=\"search\"\n              append-icon=\"mdi-magnify\"\n              label=\"Search\"\n              single-line\n              hide-details\n            ></v-text-field>\n          </v-card-title>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"getCrawlers\"\n            :search=\"search\"\n            class=\"elevation-1\"\n            :loading=\"isLoading\"\n            loading-text=\"Loading... Please wait\">\n            <template v-slot:item.name=\"{ item }\">\n              <b>{{item.name}}</b>\n            </template>\n            <template v-slot:item.start_url=\"{ item }\">\n              <a :href=\"item.start_url\" target=\"_blank\">{{item.start_url}}</a>\n            </template>\n            <template v-slot:item.state=\"{ item }\">\n                <span v-if=\"getCrawlerInfo(item.task_id) != null && crawlerButtonControlSwitch(item.task_id) \">\n                  <!-- {{ getJobState }} -->\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    v-if=\"getJobState == 'pending'\"\n                  >\n                  <v-icon left small>\n                    mdi-cog-sync\n                  </v-icon>\n                    {{getJobState}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"red\"\n                    text-color=\"white\"\n                    v-else-if=\"getJobState == 'running'\"\n                  >\n                    <span style=\"margin: 3px\">\n                      <i  class=\"fas fa-cog fa-spin\" style=\"color:white\"></i>\n                    </span>\n                      {{getJobState}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"green\"\n                    text-color=\"white\"\n                    v-else-if=\"getJobState == 'finished'\"\n                  >\n                  <v-icon left small>\n                    mdi-check-all\n                  </v-icon>\n                  {{getJobState}}\n                  </v-chip>\n                </span>\n                <span v-else-if=\"getCrawlerInfo(item.task_id) != null\">\n                  <!-- {{getCrawlerInfo(item.task_id).state}} -->\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    v-if=\"getCrawlerInfo(item.task_id).state == 'pending'\"\n                  >\n                    {{getCrawlerInfo(item.task_id).state}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"red\"\n                    text-color=\"white\"\n                    v-else-if=\"getCrawlerInfo(item.task_id).state == 'running'\"\n                  >\n                    <span style=\"margin: 3px\">\n                      <i class=\"fas fa-cog fa-spin\" style=\"color:white\"></i>\n                    </span>\n                    {{getCrawlerInfo(item.task_id).state}}\n                  </v-chip>\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"green\"\n                    text-color=\"white\"\n                    v-else-if=\"getCrawlerInfo(item.task_id).state == 'finished'\"\n                  >\n                  <v-icon left small>\n                    mdi-check-all\n                  </v-icon>\n                  {{getCrawlerInfo(item.task_id).state}}\n                  </v-chip>\n                </span>\n                <span v-else-if=\"getOtherErrors.length > 0\">\n                  <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"black\"\n                    text-color=\"white\"\n                  >\n                  <v-icon left x-small>\n                    mdi-server-off\n                  </v-icon>\n                  server error\n                  </v-chip>\n                </span>\n                <span v-else><v-icon small>mdi-check-outline</v-icon></span>\n            </template>\n            <template v-slot:item.task_id=\"{ item }\">\n                <v-chip\n                    class=\"ma-2\"\n                    small\n                    color=\"orange\"\n                    text-color=\"white\"\n                    v-if=\"item.task_id == 'New Crawler'\"\n                  >\n                  <v-icon left small>\n                    mdi-alert-decagram\n                  </v-icon>\n                  {{item.task_id}}\n                  </v-chip>\n                  <span v-else>{{item.task_id}}</span>\n            </template>\n              <template v-slot:item.btn_run_stop=\"{ item }\">\n                <v-btn\n                  icon\n                  v-if=\"crawlerButtonControlSwitch(item.task_id) && getJobState != 'finished'\"\n                  :disabled=\"getLoadingRunningCrawlerExecution || stoppingCrawler || getOtherErrors.length > 0\"\n                  v-on:click=\"exitRunningJob(item.task_id)\"\n                  color=\"black\">\n                  <v-icon>mdi-close-circle-outline</v-icon>\n                </v-btn>\n                <v-btn\n                  icon\n                  v-else\n                  :disabled=\"getLoadingRunningCrawlerExecution || getJobState != 'finished' || stoppingCrawler || getDeletingCrawlerLoading || getOtherErrors.length > 0\"\n                  v-on:click=\"executeCrawler(item.crawlerId)\"\n                  color=\"black\">\n                  <v-icon>mdi-play</v-icon>\n                </v-btn>\n                <!-- <span>{{item.crawlerId}}</span> -->\n              </template>\n              <template v-slot:item.btn_delete=\"{ item }\">\n                <v-btn\n                  icon\n                  :disabled=\"getLoadingRunningCrawlerExecution || getJobState != 'finished'\"\n                  v-on:click=\"removeCrawler(item.crawlerId)\"\n                  color=\"black\">\n                  <v-icon>mdi-delete</v-icon>\n                </v-btn>\n              </template>\n              <!-- Details btn -->\n              <template v-slot:item.details_btn=\"{ item }\">\n                <v-btn\n                  icon\n                  v-if=\"crawlerButtonControlSwitch(item.task_id) && getJobState != 'finished'\"\n                  :disabled=\"getLoadingRunningCrawlerExecution || stoppingCrawler || !crawlerDetailsReady || getOtherErrors.length > 0\"\n                  v-on:click=\"openCrawlerDetails()\"\n                  color=\"black\">\n                  <v-icon>mdi-eye</v-icon>\n                </v-btn>\n              </template>\n            </v-data-table>\n        </v-card>\n        <v-overlay :value=\"stoppingCrawler\">\n          <v-progress-circular\n            indeterminate\n            size=\"64\"\n          ></v-progress-circular>\n        </v-overlay>\n\n        <v-dialog\n          v-model=\"getDeletingCrawlerLoading\"\n          hide-overlay\n          persistent\n          width=\"300\"\n        >\n          <v-card\n            color=\"primary\"\n            dark\n          >\n            <v-card-text>\n              Please stand by\n              <v-progress-linear\n                indeterminate\n                color=\"white\"\n                class=\"mb-0\"\n              ></v-progress-linear>\n            </v-card-text>\n          </v-card>\n        </v-dialog>\n        <v-snackbar\n        ref=\"snackbarDeleteCrawler\"\n        elevation=\"24\"\n        color=\"success\"\n        v-model=\"crawlerAlert\"\n        :timeout=\"crawlerAlertTimeoutMessage\"\n        >\n        <v-icon large>{{crawlerAlertIcon}}</v-icon>\n        <b style=\"font-size:150%; margin-left:5px\">{{ crawlerAlertMessage }}</b>\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn\n            color=\"white\"\n            text\n            v-bind=\"attrs\"\n            @click=\"crawlerAlert = false\"\n          >\n            Close\n          </v-btn>\n        </template>\n    </v-snackbar>\n      </v-main>\n    <crawler-details \n        v-show=\"crawlerDetailsReady\" \n        :percentage=\"productsInsertedPercentage\" \n        :openDialog=\"triggerOpenCrawlerDetails\" \n        :activeCrawlerDetails=\"getCrawlerDetails\"\n        :jobState=\"getJobState\"\n        :crawlertimeCounter=\"timeCounter\"\n        @update-openDialog=\"updateDialog\"\n    ></crawler-details>\n   </v-app>\n</template>\n\n\n<script>\nimport {mapActions,mapGetters, mapState} from \"vuex\"\nimport CrawlerDetails from './CrawlerDetails.vue';\n  export default {\n  components: { CrawlerDetails },\n\n    name: 'CrawlersList',\n    props: {\n      refreshCrawlerListData: false\n    },\n    \n    data () {\n      return {\n        search: '',\n        inProcess: true,\n        startLongPolling:false,\n        polling: null,\n        stoppingCrawler: false,\n        crawlerAlert: false,\n        crawlerAlertTimeoutMessage: 5000,\n        crawlerAlertMessage: '',\n        crawlerAlertIcon: '',\n        triggerOpenCrawlerDetails: false,\n        totalProductsFound: 0,\n        lastCrawler: {},\n        lastCrawlerTaskId: null,\n        crawlerDetailsReady: false,\n        productsInsertedPercentage:0,\n        timeCounter: '',\n        job_id : null,\n        crawlerInProcess:{\n          project: 'default',\n          job: ''\n        },\n        headers: [\n          {\n            text: 'Crawler Name',\n            align: 'start',\n            value: 'name',\n          },\n          { text: 'Start URL', value: 'start_url', sortable: false },\n          { text: 'State', value: 'state', sortable: false },\n          { text: 'Unique ID', value: 'task_id', sortable: false},\n          { text: ' ', value: 'btn_run_stop', sortable: false },\n          { text: ' ', value: 'btn_delete', sortable: false },\n          { text: ' ', value: 'details_btn', sortable: false },\n        ],\n        // crawlers_data: getCrawlers\n      }\n    },\n\n    mounted () {\n      this.getJobState\n      this.getCrawlersData();\n    },\n\n    watch: {\n      getFullPath () {\n        this.getCrawlersData()\n      },\n\n      refreshCrawlerListData(){\n        // this.getCrawlersData()\n        location.reload();\n      },  \n\n      getJobState(newVal, oldVal){\n          // console.log(\"OLD: \"+oldVal)\n          // console.log(\"NEW: \"+newVal)\n          console.log(\"POLLING!!!!!!!!\")\n          this.pollingFreshCrawlersInfo()\n      },\n\n      getLastCrawlerTaskId(newVal, oldVal){\n          console.log(\"OLD: \"+oldVal)\n          console.log(\"NEW: \"+newVal)\n          if(oldVal != undefined){\n            console.log(\"-->READY\")\n            this.crawlerDetailsReady = true\n            console.log(this.getCrawlerDetails.estimatred_count_down_date)\n            \n          }\n      },\n      \n      getCrawlerProductsInserted(newVal, oldVal){\n        console.log(\"OLD: \"+oldVal)\n        console.log(\"NEW: \"+newVal)\n        this.productsInsertedPercentage = this.calculatePercentage(newVal, this.getCrawlerDetails.number_of_products_found)\n        console.log(\"PERCENTAGE -------> \"+this.productsInsertedPercentage)\n      }\n\n    },\n\n    computed: {\n      ...mapGetters(\"Auth\",[\"isAuth\"]),\n      ...mapGetters(\"Crawler\",[\"getCrawlers\"]),\n      ...mapGetters(\"Crawler\",[\"isLoading\"]),\n      ...mapGetters(\"Crawler\",[\"getLoadingRunningCrawlerExecution\"]),\n      ...mapGetters(\"Crawler\",[\"getRunningCrawler\"]),\n      ...mapGetters(\"Crawler\",[\"getRunningCrawlerTaskId\"]),\n      ...mapGetters(\"Crawler\",[\"getJob\"]),\n      ...mapGetters(\"Crawler\",[\"getFinishedJobs\"]),\n      ...mapGetters(\"Crawler\",[\"getJobState\"]),\n      ...mapGetters(\"Crawler\",[\"getDeletingCrawlerLoading\"]),\n      ...mapGetters(\"Crawler\",[\"getCrawlerDetails\"]),\n      ...mapState(\"Crawler\",[\"crawler_details\"]),\n      ...mapState(\"Crawler\",[\"running_crawler_task_id\"]),\n      ...mapGetters(\"Crawler\",[\"getOtherErrors\"]),\n      \n\n      getFullPath () {\n        return this.$route.path\n      },\n\n      getLastCrawlerTaskId(){\n        console.log('******')\n        return this.crawler_details.task_id\n      },\n\n      getCrawlerProductsInserted(){\n        try {\n          return this.getCrawlerDetails.products_inserted\n        } catch (error) {}\n      }\n\n      \n\n      \n    },\n    \n    methods:{\n        ...mapActions('Crawler',['getAllCrawlers']),\n        ...mapActions('Crawler',['runCrawler']),\n        ...mapActions('Crawler',['getJobs']),\n        ...mapActions('Crawler',['cancelRunningJob']),\n        ...mapActions('Crawler',['getRuningJobs']),\n        ...mapActions('Crawler',['deleteCrawler']),\n        ...mapActions('Crawler',['getCrawlerDetailsApi']),\n\n        updateDialog(openDialog){\n          this.triggerOpenCrawlerDetails = openDialog\n        },\n\n        getCrawlersData(){\n          this.getAllCrawlers(this.crawlerInProcess)\n        },\n\n\n        executeCrawler(id){\n          let playload = {'id': id, 'form': this.crawlerInProcess}\n          console.log(playload)\n          this.runCrawler(playload)\n          this.startLongPolling=true\n          this.crawlerAlert = true\n          this.crawlerAlertMessage = \"Crawler started\"\n          this.crawlerAlertIcon = 'mdi-spider'\n          // this.pollingFreshCrawlersInfo()\n        },\n\n        exitRunningJob(taskId){\n          this.crawlerInProcess['job'] = taskId\n          this.stoppingCrawler = true\n          this.cancelRunningJob(this.crawlerInProcess)\n          this.inProcess = false\n          this.timeCounter = ''\n          \n          this.getAllCrawlers(this.crawlerInProcess)\n        },\n\n        removeCrawler(crawlerId){\n          let playload = {}\n          playload['crawler_id'] = crawlerId\n          playload['crawlerInProcess'] = this.crawlerInProcess\n          playload['vm'] = this\n          this.deleteCrawler(playload)\n        },\n\n        getCrawlerInfo (task_id){\n          let jobs = this.getJob\n          let finished_jobs = this.getFinishedJobs\n          let crawler = null\n          if(jobs.length > 0){\n              crawler = jobs.find(o => o.id === task_id);\n              if(crawler == null && finished_jobs.length > 0){\n                  crawler = finished_jobs.find(o => o.id === task_id);\n              }\n          }\n          else if(finished_jobs.length > 0){\n              crawler = finished_jobs.find(o => o.id === task_id);\n          }\n\n          return crawler\n        },\n\n        crawlerButtonControlSwitch(task_id){\n          let isActive = this.getCrawlerInfo(task_id) ? this.getCrawlerInfo(task_id).isActive : false\n          \n          return isActive\n        },\n\n        openCrawlerDetails(){\n          this.triggerOpenCrawlerDetails = true\n          this.timeCountDown(this.getCrawlerDetails.estimatred_count_down_date)\n        },\n\n        calculatePercentage(value, total){\n          return Math.ceil((value/total) * 100)\n        },\n\n        pollingFreshCrawlersInfo(){\n          // console.log(this.activateLongPolling)\n            var interval = setInterval(\n              function () { \n                console.log(\"LongPolling--->\"+this.getJobState)\n                this.getAllCrawlers(this.crawlerInProcess)\n\n                this.getCrawlerDetailsApi()\n                  if(this.getLastCrawlerTaskId == this.getJob[0].id){\n                    this.crawlerDetailsReady = true\n                  }\n                  else{\n                    this.crawlerDetailsReady = false\n                  }\n                  \n             \n                if(this.getJobState == 'finished' || !this.isAuth){\n                  console.log(\"STOP POLLING!!\")\n                  clearInterval(interval);\n                  if(this.isAuth){\n                    let n_audio = new Audio('https://freesound.org/data/previews/320/320655_5260872-lq.mp3');\n                    n_audio.play();\n                  }\n                  this.stoppingCrawler = false\n                  this.crawlerDetailsReady = false\n                  this.crawlerAlert = true\n                  this.crawlerAlertMessage = \"Crawler finished\"\n                  this.crawlerAlertIcon = 'mdi-spider'\n                  // clearInterval(this.$store.getters['Crawler/getPollingInterval'])\n                }\n              }\n              .bind(this), 3000)\n            // this.polling = interval\n        },\n\n        timeCountDown(time){\n        // try {\n            let countDownDate = new Date(time).getTime();\n\n            // Run myfunc every second\n            let myfunc = setInterval(function() {\n\n            let now = new Date().getTime();\n            let timeleft = countDownDate - now;\n                \n            // Calculating the days, hours, minutes and seconds left\n            let days = Math.floor(timeleft / (1000 * 60 * 60 * 24));\n            let hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n            let minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));\n            let seconds = Math.floor((timeleft % (1000 * 60)) / 1000);\n                \n            this.timeCounter = days+\":\"+hours+\":\"+minutes+\":\"+seconds\n            console.log(this.timeCounter)\n            console.log(\"TIMMMME\")\n            // Display the message when countdown is over\n            if (timeleft < 0 || this.getJobState == 'finished') {\n              this.timeCounter = ''\n              clearInterval(myfunc);\n                  console.log(\"TIME UP\")\n              }\n            }\n            .bind(this), 1000);\n        // }\n          // catch (error) {}\n        },\n\n    },\n\n    // beforeDestroy () {\n    //   clearInterval(this.polling)\n    // },\n\n    created () {\n      this.getCrawlerDetailsApi()\n      // let _lastCrawler = this.getCrawlerDetails.task_id\n      // // this.lastCrawlerTaskId = _lastCrawler['task_id']\n      //   console.log(\"crawlerDetailsTaskId===>\")\n      //   console.log(_lastCrawler)\n      if(this.getJobState != 'finished'){\n        \n        this.pollingFreshCrawlersInfo()\n      }\n\n      \n    }\n    \n  }\n</script>"]}]}