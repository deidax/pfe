{"remainingRequest":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/babel-loader/lib/index.js!/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/src/router/index.js","dependencies":[{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/src/router/index.js","mtime":1631209596500},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZS9pbmRleCc7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgcm91dGVzOiByb3V0ZXMKfSk7CgpmdW5jdGlvbiBpc0F1dGgoKSB7CiAgcmV0dXJuIHN0b3JlLmdldHRlcnNbJ0F1dGgvaXNBdXRoJ107Cn0KCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLmF1dGhPbmx5OwogIH0pKSB7CiAgICBpZiAoIWlzQXV0aCgpKSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICIvIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmVkaXJlY3Q6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEuZ3Vlc3RPbmx5OwogIH0pKSB7CiAgICBpZiAoaXNBdXRoKCkpIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogIi9kYXNoYm9hcmQiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7IC8vIG1ha2Ugc3VyZSB0byBhbHdheXMgY2FsbCBuZXh0KCkhCiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/khalil/Projects/PFE/scrapy_app/vuejs_frontend/src/router/index.js"],"names":["VueRouter","routes","store","router","mode","isAuth","getters","beforeEach","to","from","next","matched","some","record","meta","authOnly","path","query","redirect","fullPath","guestOnly"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAoB,UAApB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAGA,IAAMC,MAAM,GAAG,IAAIH,SAAJ,CAAc;AACzBI,EAAAA,IAAI,EAAE,SADmB;AAEzBH,EAAAA,MAAM,EAANA;AAFyB,CAAd,CAAf;;AAMA,SAASI,MAAT,GAAkB;AACd,SAAOH,KAAK,CAACI,OAAN,CAAc,aAAd,CAAP;AACH;;AAECH,MAAM,CAACI,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,QAAhB;AAAA,GAAtB,CAAJ,EAAqD;AAEnD,QAAI,CAACV,MAAM,EAAX,EAAe;AACbK,MAAAA,IAAI,CAAC;AACHM,QAAAA,IAAI,EAAE,GADH;AAEHC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAEV,EAAE,CAACW;AAAf;AAFJ,OAAD,CAAJ;AAID,KALD,MAKO;AACLT,MAAAA,IAAI;AACL;AACF,GAVD,MAUO,IAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYM,SAAhB;AAAA,GAAtB,CAAJ,EAAsD;AAE3D,QAAIf,MAAM,EAAV,EAAc;AACZK,MAAAA,IAAI,CAAC;AACHM,QAAAA,IAAI,EAAE,YADH;AAEHC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAEV,EAAE,CAACW;AAAf;AAFJ,OAAD,CAAJ;AAID,KALD,MAKO;AACLT,MAAAA,IAAI;AACL;AACF,GAVM,MAUA;AACLA,IAAAA,IAAI,GADC,CACG;AACT;AACF,CAxBD;AA0BF,eAAeP,MAAf","sourcesContent":["import VueRouter from 'vue-router';\r\nimport routes from  './routes';\r\nimport store from '../store/index';\r\n\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    routes\r\n})\r\n\r\n\r\nfunction isAuth() {\r\n    return store.getters['Auth/isAuth']\r\n}\r\n  \r\n  router.beforeEach((to, from, next) => {\r\n    if (to.matched.some(record => record.meta.authOnly)) {\r\n      \r\n      if (!isAuth()) {\r\n        next({\r\n          path: \"/\",\r\n          query: { redirect: to.fullPath }\r\n        });\r\n      } else {\r\n        next();\r\n      }\r\n    } else if (to.matched.some(record => record.meta.guestOnly)) {\r\n      \r\n      if (isAuth()) {\r\n        next({\r\n          path: \"/dashboard\",\r\n          query: { redirect: to.fullPath }\r\n        });\r\n      } else {\r\n        next();\r\n      }\r\n    } else {\r\n      next(); // make sure to always call next()!\r\n    }\r\n  });\r\n\r\nexport default router;"]}]}